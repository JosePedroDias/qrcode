<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		
		<title>client-side QR code generation</title>

		<style type="text/css">
			body {
				font-family: sans-serif;
			}
		</style>
	</head>
	
	<body>
		<h1>client-side QR code generation - updatable canvas</h1>
		
		<input value="http://www.sapo.pt">
		<button>update</button>
		<br/>
		
		<canvas></canvas>

		<script type="application/javascript" src="qrcode.js"></script>

		<script type="application/javascript">
			

			////////

			var cvsEl = document.querySelector('canvas');
			var inEl = document.querySelector('input');
			var btnEl = document.querySelector('button');

			var onUpdate = function() {
				try {
					QR.generateQRCodeCanvas({
						text:   inEl.value,
						canvas: cvsEl,
						scale:  7,
						margin: 10
					});
				} catch (ex) {
					window.alert(ex);
				}
			};

			btnEl.addEventListener('click', onUpdate);
			onUpdate();
		</script>
	</body>
</html>
